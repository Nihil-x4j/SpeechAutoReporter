# # regex_str = r'超声所见：\n眼球轴长：右眼\s*\d+(\.\d+)?\s*mm,左眼\s*\d+(\.\d+)?\s*mm。\n二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。\nCDFI:双眼球内、眶内未探及异常血流信号。\n超声提示：此类患者不做特殊诊断'
# import re
# # test = f'超声所见：\n眼球轴长：右眼1mm,左眼1mm。\n二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。\nCDFI:双眼球内、眶内未探及异常血流信号。\n超声提示：此类患者不做特殊诊断'
# # compiled_regex = re.compile(regex_str, flags=re.MULTILINE | re.UNICODE)
# # print(compiled_regex.match(test))

# rex = "超声所见：二维超声：(右|左|双)眼(前部|赤道部|后极部)玻璃体内可探及(少量|大量)均匀弱点状回声(以病变与玻璃体之间所占比例估算病变为少量或大量，即眼球轴位切面病变所占面积不超过玻璃体面积的1/3为少量，大于1/2玻璃体面积为大量，如果病变的数量可以计数则为偶见)，与((?:周边部|赤道部|后极部|黄斑区|视盘)紧密相连|不与球壁回声相连)，运动试验\\(\\+\\)，后运动试验\\(\\+\\)。CDFI:玻璃体内弱点状回声其上未探及血流信号。超声提示：(右|左|双)眼球内异常回声，结合临床考虑玻璃体积血可能性大。"
# ref = '超声所见：二维超声：右眼赤道部玻璃体内可探及大量均匀弱点状回声，与黄斑区紧密相连，运动试验(+)，后运动试验(+)。CDFI:玻璃体内弱点状回声其上未探及血流信号。超声提示：右眼球内异常回声，结合临床考虑玻璃体积血可能性大。'
# #tef = '超声所见： 二维超声：右前部玻璃体内可探及少量弱点状回声，不与球壁回声相连，运动试验(+), 后运动试验(+)。CDFI:玻璃体内异常回声上未探及血流信号。超声提示：右玻璃体内异常回声，结合临床玻璃体混浊可能性大。'
# import exrex
# from itertools import islice
# regex = r'^[A-Za-z]{3}\d{2}$'
# samples = list(islice(exrex.generate(regex), 10))

# print(samples)

# # pp = {"正常眼": "超声所见：\\s*眼球轴长：右眼\\s*\\d+(\\.\\d+)?\\s*mm,左眼\\s*\\d+(\\.\\d+)?\\s*mm。\\s*二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。\\s*CDFI:双眼球内、眶内未探及异常血流信号。\\s*超声提示：此类患者不做特殊诊断"}
# # print(pp["正常眼"])

# #print(r'\'')

# # import json

# # # 假设你的 JSONL 文件路径为：'data.jsonl'
# # file_path = '/root/autodl-tmp/RAG/SpeechAutoReporter/templates/超声报告模板/超声报告模板_new.jsonl'

# # with open(file_path, 'r', encoding='utf-8') as file:
# #     for line_number, line in enumerate(file, start=1):
# #         if line_number == 2:
# #             break
# #         try:
# #             # 去除行末换行符并解析 JSON
# #             json_obj = json.loads(line.strip())
# #             print(f"--- 第 {line_number} 行 ---")
# #             str = list(json_obj.values())[0]
# #             t = '超声所见：眼球轴长：右眼2mm,左眼2mm。二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。CDFI:双眼球内、眶内未探及异常血流信号。超声提示：此类患者不做特殊诊断'
# #             print(re.search(str, t))
# #         except json.JSONDecodeError as e:
# #             print(f"[警告] 第 {line_number} 行解析失败：{e}")
# #             print(f"原始内容：{line.strip()}")
# #             print("\n")

import json

a = json.loads('[\n    {\n        "input": "右眼轴长24.1，左眼23.8，结构对称，无异常回声和血流",\n        "output": "超声所见：眼球轴长：右眼24.1mm，左眼23.8mm。二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。CDFI:双眼球内、眶内未探及异常血流信号。超声提示：此类患者不做特殊诊断"\n    },\n    {\n        "input": "右眼23.5左眼23.6，结构正常，没看到异常回声或血流",\n        "output": "超声所见：眼球轴长：右眼23.5mm，左眼23.6mm。二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。CDFI:双眼球内、眶内未探及异常血流信号。超声提示：此类患者不做特殊诊断"\n    },\n    {\n        "input": "右眼轴24左眼23.9，结构对称，未见异常回声和血流信号",\n        "output": "超声所 见：眼球轴长：右眼24mm，左眼23.9mm。二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。CDFI:双眼球内、眶内未探及异常血流信号。超声提示：此类患者不做特殊诊断"\n    },\n    {\n        "input": "右眼23.7，左眼23.4，结构对称，无异常",\n        "output": "超声所见：眼球轴长：右眼23.7mm，左眼23.4mm。二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。CDFI:双眼球内、眶内未探及异常血流信号。超声提示：此类患者不做特殊诊断"\n    },\n    {\n        "input": "右眼24.0左眼23.8，结构正常，没发现异常回声或血流",\n        "output": "超声所见：眼球轴长：右眼24.0mm，左眼23.8mm。二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。CDFI:双眼球内、眶内未探及异常血流信号。超声提示：此类患者不做特殊诊断"\n    },\n    {\n        "input": "右眼轴23.6左23.5，结构对称，无异常表现",\n        "output": "超声所见：眼球轴长：右眼23.6mm，左眼23.5mm。二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。CDFI:双眼球内、眶内未探及异常血流信号。超声提示：此类患者不做特殊诊断"\n    },\n    {\n        "input": "右眼23.3，左眼23.1，结构对称，未见异常",\n        "output": "超声所见：眼球轴长：右眼23.3mm，左眼23.1mm。二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。CDFI:双眼球内、眶内未探及异常血流信号。超声提示：此类患者不做特殊诊断"\n    },\n    {\n        "input": "右眼23.9左眼23.7，结构正常，无明显异常",\n        "output": "超声所见：眼球轴长：右眼23.9mm，左眼23.7mm。二维超声：双眼球结构对称，所见范围眼球及眼眶内未探及异常回声。CDFI:双眼球内、眶内未探及异常血流信号。超声提示：此类患者不做特殊诊断"\n    }\n]')
print(a)